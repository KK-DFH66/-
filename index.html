<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>钳工三级理论知识练习题</title>
    <style>
        /* 保持原有的CSS样式不变 */
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        /* 其他样式保持不变... */
    </style>
</head>
<body>
    <div class="container">
        <h1>钳工三级理论知识练习题</h1>
        
        <div id="loading">正在加载试题，请稍候...</div>
        
        <div id="exam-container" style="display: none;">
            <div class="progress" id="progress">第1题/共50题</div>
            
            <div id="question-display">
                <!-- 题目将在这里动态生成 -->
            </div>
            
            <div class="navigation">
                <button id="prev-btn" disabled>上一题</button>
                <button id="next-btn">下一题</button>
            </div>
        </div>
        
        <!-- 保持原有的review-container和result-container结构不变 -->
    </div>

    <script>
        // 从外部JSON文件加载数据
        fetch('exam.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('网络响应不正常');
                }
                return response.json();
            })
            .then(examData => {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('exam-container').style.display = 'block';
                initializeExam(examData);
            })
            .catch(error => {
                console.error('加载试题失败:', error);
                document.getElementById('loading').textContent = '加载试题失败，请刷新重试或检查JSON文件';
            });

        // 初始化考试系统的函数
        function initializeExam(examData) {
            // 这里放置原来所有的考试系统逻辑代码
            // 包括：题目随机选择、选项随机排序、答题逻辑等
            // （保持原有的所有JavaScript功能代码不变）
            
            // 示例核心变量
            let currentExam = {
                singleChoice: [],
                trueFalse: [],
                userAnswers: [],
                currentIndex: 0
            };

            // 随机选择40道选择题和10道判断题
            function selectRandomQuestions() {
                // 随机选择逻辑...
            }

            // 渲染当前题目
            function renderCurrentQuestion() {
                // 渲染逻辑...
            }

            // 其他原有功能函数...
            
            // 初始化考试
            selectRandomQuestions();
            renderCurrentQuestion();
        }
    </script>
</body>
</html>